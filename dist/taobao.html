<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .red {
            color: red
        }
    </style>
</head>

<body>
    <input type="text">
    <ul>

    </ul>
    <div id="subNav">

    </div>
    <script>
        //https://suggest.taobao.com/sug?code=utf-8&amp;q=%E7%94%B7%E8%A3%85&amp;_ksTS=1597311622118_302&amp;callback=jsonp303&amp;k=1&amp;area=c2c&amp;bucketid=18

        let oInput = document.querySelector("input");
        let oUl = document.querySelector("ul");
        let subNav = document.getElementById("subNav");

        oInput.oninput = function () {
            let oScript = document.createElement("script");
            oScript.src = `


            https://www.s.cn/search-association.html?name=${this.value}&callback=foo
`
            document.body.appendChild(oScript);
            document.body.removeChild(oScript);
        }

        function foo(data) {
            console.log(data);
           
            let str1 = "";
            data.forEach(item => {
                str1 += `<li>${item.p}</li>`;
            });
            oUl.innerHTML = str1;

            // let aList = oUl.children;

            // let magic = data.magic;
            // magic.forEach(item => {
            //     aList[item.index - 1].innerHTML += "&gt;";
            //     aList[item.index - 1].onmouseover = function () {
            //         subNav.innerHTML = "";
            //         let subData = item.data;
            //         subData.forEach(item => {
            //             let oUl = document.createElement("ul");
            //             let str = "";
            //             item.forEach(item => {
            //                 if (item.type == "hot") {
            //                     str += `<li class="red">${item.title}</li>`
            //                 } else {
            //                     str += `<li>${item.title}</li>`
            //                 }
            //             });
            //             oUl.innerHTML = str;
            //             subNav.appendChild(oUl);
            //         })
            //     }
            // })
        }
    </script>
</body>

</html>